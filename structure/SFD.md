## Описание синтаксиса формата
Формат текстовый, в кодировке UTF-8. Разделения строк допускаются CR, LF, или CRLF.

Файл состоит из действий. Каждое действие - на отдельной строке. Пустые строки не учитываются.

Строки бывают двух видов: командные и текстовые.
- Командные обозначают выполнение какого-либо действия, не связанного с произнесением персонажем реплики: передвижение камеры, персонажа, анимация, затемнение экрана и пр. Начинаются с токена "команда".
- Текстовые строки обознают произнесение реплики. Начинается с любого токена кроме "команда"

Строки разделены любыми пробельными символами по Unicode на слова (далее - токены). У каждого токена есть смысл, назначение и формат.

|Токен|Формат|Описание|Разрешен и запрещен|
|-|-|-|-|
|Пустой|Длинна 0|Появляется между двойными пробелами|Игнорируется|
|Текст|Начинается с любого символа кроме -, =, /, # на текстовой строке и не идет сразу после токена "аргумент"|Обозначает текст реплики персонажа|Появляется только в текстовых строках|
|Персонаж|Начинается с =|Обозначает персонажа. После символа = следует имя персонажа без пробела. Имя должно быть одинаковым во всех местах проекта|Разрешен один раз за текстовую строку, сколько угодно раз за команду|
|Аргумент|Начинается с - на текстовой строке|Обозначает характеристику реплики. например, тон. Обозначает название флага характеристики, а не значение|Разрешен на текстовых сколько угодно раз|
|Значение аргумента|Идет сразу после аргумента и не начинается с -, =, #.|Обозначает значение заданного аргумента. При этом значение у аргумента может отсутствовать (если оно ему не нужно). Тогда аргумент следует распологать последним на строке токеном (кроме пустых) или ставить перед другими нетекстовыми токенами. |Разрешен после аргумента|
|Команда|Начинается с /|Обозначает начало строки команды и собственно само действие|Разрешен единожды, первым токеном и обозначает начало строки команды|
|Номер|Начинается с # и далее только цифры|Обозначает номер текстовой реплики при переводе. Как правило проставляется автоматически.|Разрешен единожды, последним токеном в текстовой строке|

В обработчик формата (в игровой движок) строки передаются как отдельные сущности:
- Командные: с отдельным вынесением названия команды, списка аргументов в порядке появления, а также отдельно токена персонажа (если таковой есть).
- Текстовые: передается текст реплики (из строки вырезаются все токены кроме текстовых, а текстовые разделяются одинарными пробелами), отдельно список аргументов со значениями и токен персонажа. 

## Описание поведения формата
При отсутствии на текстовой строке токена персонажа, используется тот, который использовался на предыдущей текстовой строке по файлу.

При отсутствии на текстовой строке какого-либо аргумента, его значение считается по-умолчанию.